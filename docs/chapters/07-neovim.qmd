---
title: "ç·¨è¼¯å™¨ä¹‹é“ï¼šNeovim"
---

# ç·¨è¼¯å™¨ä¹‹é“ï¼šNeovim

[Neovim](https://neovim.io/) æ˜¯ Vim çš„ç¾ä»£åŒ–åˆ†æ”¯ï¼Œæä¾›æ›´å¥½çš„æ“´å±•æ€§å’Œæ›´æ´»èºçš„é–‹ç™¼ç¤¾ç¾¤ã€‚

## ç‚ºä»€éº¼é¸æ“‡ Neovimï¼Ÿ

- **Lua è¨­å®š**ï¼šæ¯” VimL æ›´ç›´è¦º
- **å…§å»º LSP**ï¼šåŸç”Ÿèªè¨€ä¼ºæœå™¨æ”¯æ´
- **éåŒæ­¥æ’ä»¶**ï¼šä¸æœƒå¡ä½ç·¨è¼¯å™¨
- **æ´»èºç¤¾ç¾¤**ï¼šè±å¯Œçš„ç¾ä»£æ’ä»¶

## å®‰è£

**èƒŒæ™¯ï¼ˆå•é¡Œç™¼ç¾ï¼‰**ï¼šå‚³çµ±çš„ Vim é›–ç„¶å¼·å¤§ï¼Œä½†åœ¨æ“´å±•æ€§å’Œç¾ä»£åŒ–åŠŸèƒ½ä¸Šæœ‰æ‰€é™åˆ¶ã€‚[Neovim](https://neovim.io/) ä½œç‚º Vim çš„ç¾ä»£åŒ–åˆ†æ”¯ï¼Œæä¾›äº†æ›´å¥½çš„æ’ä»¶æ¶æ§‹ã€å…§å»º LSP æ”¯æ´ï¼Œä»¥åŠç”¨ Lua è¨­å®šçš„èƒ½åŠ›ã€‚

**æ–¹æ³•**ï¼šä½¿ç”¨ Homebrew å¥—ä»¶ç®¡ç†å™¨ä¾†å®‰è£ Neovimï¼Œé€™æ˜¯ macOS ä¸Šæœ€ç°¡å–®ä¸”å¯é çš„å®‰è£æ–¹å¼ã€‚Homebrew æœƒè‡ªå‹•è™•ç†ä¾è³´é—œä¿‚å’Œç‰ˆæœ¬æ›´æ–°ã€‚

**çµæœï¼ˆç¨‹å¼ç¢¼ï¼‰**ï¼š

```{bash}
brew install neovim
```

**è¨è«–/å»¶ä¼¸**ï¼š
- å®‰è£å¾Œå¯ç”¨ `nvim --version` ç¢ºèªç‰ˆæœ¬ï¼ˆå»ºè­° 0.9.0 ä»¥ä¸Šï¼‰
- Linux ç”¨æˆ¶å¯ç”¨ `sudo apt install neovim` æˆ–å¾åŸå§‹ç¢¼ç·¨è­¯
- Windows ç”¨æˆ¶å¯ç”¨ Scoop æˆ– Chocolatey å®‰è£
- é¦–æ¬¡å•Ÿå‹•æœƒæ¯”è¼ƒæ…¢ï¼Œå› ç‚ºéœ€è¦ç·¨è­¯èªæ³•æª”æ¡ˆ

## åŸºç¤æ¡†æ¶ï¼š[NvChad](https://nvchad.com/)

**èƒŒæ™¯ï¼ˆå•é¡Œç™¼ç¾ï¼‰**ï¼šå¾é›¶é–‹å§‹è¨­å®š Neovim éœ€è¦èŠ±è²»å¤§é‡æ™‚é–“é¸æ“‡æ’ä»¶ã€é…ç½® LSPã€è¨­è¨ˆä¸»é¡Œå’Œå¿«æ·éµã€‚åˆå­¸è€…å®¹æ˜“åœ¨è¨­å®šéšæ®µå°±æ”¾æ£„ï¼Œè€Œç¶“é©—è±å¯Œçš„ç”¨æˆ¶ä¹Ÿå¸Œæœ›æœ‰å€‹è‰¯å¥½çš„èµ·é»ã€‚

**æ–¹æ³•**ï¼š[NvChad](https://nvchad.com/) æ˜¯ä¸€å€‹é é…ç½®çš„ Neovim æ¡†æ¶ï¼Œæä¾›äº†ï¼š
- ç²¾ç¾çš„ UI ä¸»é¡Œå’Œç‹€æ…‹æ¬„
- åˆç†çš„é è¨­å¿«æ·éµæ˜ å°„
- æ’ä»¶ç®¡ç†å™¨ï¼ˆ[lazy.nvim](https://github.com/folke/lazy.nvim)ï¼‰é é…ç½®
- LSPã€è‡ªå‹•è£œå…¨ã€èªæ³•é«˜äº®ç­‰ç¾ä»£åŠŸèƒ½é–‹ç®±å³ç”¨
- æ¸…æ™°çš„ç›®éŒ„çµæ§‹ï¼Œæ–¹ä¾¿æ“´å±•

**çµæœï¼ˆç¨‹å¼ç¢¼ï¼‰**ï¼š

```{bash}
git clone https://github.com/NvChad/NvChad ~/.config/nvim --depth 1
nvim
```

**è¨è«–/å»¶ä¼¸**ï¼š
- `--depth 1` åªå…‹éš†æœ€æ–°ç‰ˆæœ¬ï¼Œç¯€çœç©ºé–“å’Œæ™‚é–“
- é¦–æ¬¡å•Ÿå‹• `nvim` æœƒè‡ªå‹•å®‰è£æ‰€æœ‰æ’ä»¶ï¼ˆéœ€è¦ç¶²è·¯é€£ç·šï¼‰
- å®‰è£å®Œæˆå¾Œæœƒçœ‹åˆ°æ­¡è¿ç•«é¢ï¼ŒæŒ‰ `<Space>th` å¯åˆ‡æ›ä¸»é¡Œ
- å…¶ä»–é¡ä¼¼æ¡†æ¶ï¼š[LazyVim](https://www.lazyvim.org/)ã€[AstroNvim](https://www.astronvim.com/)ï¼ˆå„æœ‰ç‰¹è‰²ï¼Œå¯ä¾å–œå¥½é¸æ“‡ï¼‰
- å»ºè­°å…ˆä½¿ç”¨é è¨­è¨­å®šä¸€æ®µæ™‚é–“ï¼Œäº†è§£å¾Œå†è‡ªè¨‚

## ç›®éŒ„çµæ§‹

```
~/.config/nvim/
â”œâ”€â”€ init.lua           # å…¥å£é»
â”œâ”€â”€ lua/
â”‚   â”œâ”€â”€ options.lua    # ç·¨è¼¯å™¨é¸é …
â”‚   â”œâ”€â”€ mappings.lua   # å¿«æ·éµè¨­å®š
â”‚   â”œâ”€â”€ plugins/       # æ’ä»¶è¨­å®š
â”‚   â””â”€â”€ configs/       # æ’ä»¶é…ç½®
â””â”€â”€ lazy-lock.json     # æ’ä»¶ç‰ˆæœ¬é–å®š
```

## åŸºæœ¬é¸é …

**èƒŒæ™¯ï¼ˆå•é¡Œç™¼ç¾ï¼‰**ï¼šNeovim çš„é è¨­è¨­å®šé›–ç„¶åŠŸèƒ½å®Œæ•´ï¼Œä½†ä¸ä¸€å®šç¬¦åˆç¾ä»£ç·¨è¼¯ç¿’æ…£ã€‚ä¾‹å¦‚é è¨­æ²’æœ‰ç›¸å°è¡Œè™Ÿï¼ˆå° Vim å‹•ä½œå¾ˆé‡è¦ï¼‰ã€æ²’æœ‰è‡ªå‹•æ›è¡Œã€æ²’æœ‰æ‹¼å¯«æª¢æŸ¥ç­‰ã€‚æ¯å€‹é–‹ç™¼è€…éƒ½éœ€è¦æ ¹æ“šè‡ªå·±çš„å·¥ä½œæµç¨‹èª¿æ•´é€™äº›åŸºæœ¬é¸é …ã€‚

**æ–¹æ³•**ï¼šåœ¨ `lua/options.lua` ä¸­ä½¿ç”¨ `vim.opt` API ä¾†è¨­å®šç·¨è¼¯å™¨é¸é …ã€‚é€™å€‹ API æ¯”å‚³çµ±çš„ `set` å‘½ä»¤æ›´ç¬¦åˆ Lua èªæ³•ï¼Œæ”¯æ´è¡¨æ ¼ã€å¸ƒæ—å€¼ç­‰åŸç”Ÿå‹åˆ¥ã€‚æ ¸å¿ƒæ¦‚å¿µæ˜¯è®“ç·¨è¼¯å™¨æ›´ç¬¦åˆç¾ä»£é–‹ç™¼ç¿’æ…£ï¼š
- ç›¸å°è¡Œè™Ÿé…åˆ Vim å‹•ä½œï¼ˆå¦‚ `5j` è·³ 5 è¡Œï¼‰
- æ™ºæ…§æ›è¡Œä¿æŒæ–‡å­—å¯è®€æ€§
- ä¸€è‡´çš„ç¸®æ’å’Œç©ºæ ¼ä½¿ç”¨
- ä¿æŒæ¸¸æ¨™å‘¨åœçš„ä¸Šä¸‹æ–‡å¯è¦‹
- è‹±æ–‡æ‹¼å¯«æª¢æŸ¥é¿å…éŒ¯å­—

**çµæœï¼ˆç¨‹å¼ç¢¼ï¼‰**ï¼š

```{lua}
-- lua/options.lua
local opt = vim.opt

opt.relativenumber = true  -- ç›¸å°è¡Œè™Ÿ
opt.wrap = true            -- è‡ªå‹•æ›è¡Œ
opt.linebreak = true       -- åœ¨å–®è©é‚Šç•Œæ›è¡Œ
opt.expandtab = true       -- Tab è½‰ç©ºæ ¼
opt.shiftwidth = 2         -- ç¸®æ’å¯¬åº¦
opt.tabstop = 2            -- Tab å¯¬åº¦
opt.scrolloff = 10         -- ä¿æŒæ¸¸æ¨™ä¸Šä¸‹å¯è¦‹è¡Œæ•¸
opt.spell = true           -- æ‹¼å¯«æª¢æŸ¥
opt.spelllang = { "en_us" }
```

**è¨è«–/å»¶ä¼¸**ï¼š
- `relativenumber` æ­é… `number` å¯åŒæ™‚é¡¯ç¤ºçµ•å°å’Œç›¸å°è¡Œè™Ÿ
- `shiftwidth` å’Œ `tabstop` è¨­ç‚º 2 é©åˆ JavaScript/TypeScriptï¼ŒPython å¯èƒ½éœ€è¦ 4
- `scrolloff = 10` è®“æ¸¸æ¨™å§‹çµ‚åœ¨è¢å¹•ä¸­å¤®ï¼Œé¿å…é »ç¹æ²å‹•
- å¯ç”¨ `opt.spelllang = { "en_us", "cjk" }` åŠ å…¥ä¸­æ–‡æ”¯æ´é¿å…èª¤å ±
- å…¶ä»–å¸¸ç”¨é¸é …ï¼š`opt.clipboard = "unnamedplus"`ï¼ˆç³»çµ±å‰ªè²¼ç°¿æ•´åˆï¼‰ã€`opt.ignorecase = true`ï¼ˆæœå°‹æ™‚å¿½ç•¥å¤§å°å¯«ï¼‰

## æ’ä»¶ç®¡ç†ï¼š[lazy.nvim](https://github.com/folke/lazy.nvim)

**èƒŒæ™¯ï¼ˆå•é¡Œç™¼ç¾ï¼‰**ï¼šå‚³çµ±çš„æ’ä»¶ç®¡ç†å™¨ï¼ˆå¦‚ [vim-plug](https://github.com/junegunn/vim-plug)ã€[packer.nvim](https://github.com/wbthomason/packer.nvim)ï¼‰åœ¨å•Ÿå‹•æ™‚æœƒè¼‰å…¥æ‰€æœ‰æ’ä»¶ï¼Œå°è‡´ Neovim å•Ÿå‹•é€Ÿåº¦è®Šæ…¢ã€‚ç•¶æ’ä»¶æ•¸é‡å¢åŠ åˆ° 20-30 å€‹æ™‚ï¼Œå•Ÿå‹•æ™‚é–“å¯èƒ½è¶…é 1 ç§’ï¼Œå½±éŸ¿å·¥ä½œæ•ˆç‡ã€‚è€Œä¸”æ’ä»¶çš„ä¾è³´é—œä¿‚å’Œç‰ˆæœ¬ç®¡ç†ä¹Ÿè¼ƒç‚ºè¤‡é›œã€‚

**æ–¹æ³•**ï¼š[lazy.nvim](https://github.com/folke/lazy.nvim) æ¡ç”¨ã€Œå»¶é²è¼‰å…¥ã€ï¼ˆlazy loadingï¼‰ç­–ç•¥ï¼Œåªåœ¨çœŸæ­£éœ€è¦æ™‚æ‰è¼‰å…¥æ’ä»¶ã€‚æ ¸å¿ƒæ¦‚å¿µï¼š
- **äº‹ä»¶è§¸ç™¼è¼‰å…¥**ï¼š`event = "BufReadPost"` è¡¨ç¤ºåœ¨è®€å–æª”æ¡ˆå¾Œæ‰è¼‰å…¥
- **å‘½ä»¤è§¸ç™¼è¼‰å…¥**ï¼š`cmd = "CommandName"` è¡¨ç¤ºåœ¨åŸ·è¡Œç‰¹å®šå‘½ä»¤æ™‚æ‰è¼‰å…¥
- **æª”æ¡ˆé¡å‹è¼‰å…¥**ï¼š`ft = "python"` è¡¨ç¤ºåªåœ¨ Python æª”æ¡ˆä¸­è¼‰å…¥
- **æ¨¡çµ„åŒ–è¨­å®š**ï¼šæ¯å€‹æ’ä»¶ç¨ç«‹ä¸€å€‹æª”æ¡ˆï¼Œä¾¿æ–¼ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶

**çµæœï¼ˆç¨‹å¼ç¢¼ï¼‰**ï¼š

```{lua}
-- lua/plugins/example.lua
return {
  "username/plugin-name",
  event = "BufReadPost",  -- å»¶é²è¼‰å…¥
  config = function()
    require("plugin-name").setup({})
  end,
}
```

**è¨è«–/å»¶ä¼¸**ï¼š
- å¸¸ç”¨çš„å»¶é²è¼‰å…¥äº‹ä»¶ï¼š`VeryLazy`ï¼ˆæœ€ä½å„ªå…ˆç´šï¼‰ã€`BufReadPre`ï¼ˆè®€å–å‰ï¼‰ã€`InsertEnter`ï¼ˆé€²å…¥æ’å…¥æ¨¡å¼ï¼‰
- `lazy = false` å¯å¼·åˆ¶åœ¨å•Ÿå‹•æ™‚è¼‰å…¥ï¼ˆé©ç”¨æ–¼ UI æ’ä»¶å¦‚ä¸»é¡Œã€ç‹€æ…‹æ¬„ï¼‰
- `dependencies = { "other-plugin" }` å¯è²æ˜æ’ä»¶ä¾è³´é—œä¿‚
- ç”¨ `:Lazy` å‘½ä»¤å¯æŸ¥çœ‹æ‰€æœ‰æ’ä»¶ç‹€æ…‹ã€æ›´æ–°ã€æ¸…ç†æœªä½¿ç”¨çš„æ’ä»¶
- ç”¨ `:Lazy profile` å¯åˆ†æå•Ÿå‹•æ™‚é–“ï¼Œæ‰¾å‡ºç“¶é ¸
- [lazy.nvim](https://github.com/folke/lazy.nvim) æœƒè‡ªå‹•ç”Ÿæˆ `lazy-lock.json` é–å®šç‰ˆæœ¬ï¼Œç¢ºä¿åœ˜éšŠç’°å¢ƒä¸€è‡´

## å¿…å‚™æ’ä»¶

| æ’ä»¶ | åŠŸèƒ½ |
|------|------|
| [`telescope.nvim`](https://github.com/nvim-telescope/telescope.nvim) | æ¨¡ç³Šæœå°‹ |
| [`nvim-treesitter`](https://github.com/nvim-treesitter/nvim-treesitter) | èªæ³•é«˜äº® |
| [`nvim-lspconfig`](https://github.com/neovim/nvim-lspconfig) | LSP è¨­å®š |
| [`nvim-cmp`](https://github.com/hrsh7th/nvim-cmp) | è‡ªå‹•è£œå…¨ |
| [`gitsigns.nvim`](https://github.com/lewis6991/gitsigns.nvim) | Git æ•´åˆ |

## æ¨è–¦æ’ä»¶æ¸…å–®

ä»¥ä¸‹æ˜¯ä¾æ“šå¯¦éš›ä½¿ç”¨ç¶“é©—æ•´ç†çš„æ’ä»¶æ¨è–¦ï¼ŒæŒ‰åŠŸèƒ½åˆ†é¡ï¼š

### å°èˆªèˆ‡æœå°‹

| æ’ä»¶ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| [`telescope.nvim`](https://github.com/nvim-telescope/telescope.nvim) | æ¨¡ç³Šæœå°‹ | Neovim ç”Ÿæ…‹ç³»çš„æ ¸å¿ƒï¼Œå¹¾ä¹æ‰€æœ‰æ±è¥¿éƒ½èƒ½æœ |
| [`flash.nvim`](https://github.com/folke/flash.nvim) | å¿«é€Ÿè·³è½‰ | ç”¨æ¨™ç±¤å¿«é€Ÿè·³åˆ°ç•«é¢ä»»ä½•ä½ç½® |
| [`harpoon`](https://github.com/ThePrimeagen/harpoon) | æª”æ¡ˆæ›¸ç±¤ | æ¨™è¨˜å¸¸ç”¨æª”æ¡ˆï¼Œä¸€éµåˆ‡æ› |
| [`oil.nvim`](https://github.com/stevearc/oil.nvim) | æª”æ¡ˆç®¡ç† | ç”¨ buffer ç·¨è¼¯æª”æ¡ˆç³»çµ±ï¼Œè¶…ç›´è¦º |

### UI ç¾åŒ–èˆ‡é«”é©—

| æ’ä»¶ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| [`noice.nvim`](https://github.com/folke/noice.nvim) | è¨Šæ¯ UI | å–ä»£å…§å»ºçš„å‘½ä»¤åˆ—å’Œé€šçŸ¥ï¼Œæ›´ç¾ä»£åŒ– |
| [`dressing.nvim`](https://github.com/stevearc/dressing.nvim) | è¼¸å…¥æ¡†ç¾åŒ– | è®“ `vim.ui.select` å’Œ `vim.ui.input` æ›´å¥½çœ‹ |
| [`fidget.nvim`](https://github.com/j-hui/fidget.nvim) | LSP é€²åº¦ | å³ä¸‹è§’é¡¯ç¤º LSP è¼‰å…¥ç‹€æ…‹ |
| [`barbecue.nvim`](https://github.com/utilyre/barbecue.nvim) | éºµåŒ…å±‘å°èˆª | é ‚éƒ¨é¡¯ç¤ºç›®å‰ä½ç½®ï¼ˆé¡ä¼¼ VS Codeï¼‰ |

### ç¨‹å¼ç¢¼ç·¨è¼¯

| æ’ä»¶ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| [`LuaSnip`](https://github.com/L3MON4D3/LuaSnip) | ç¨‹å¼ç¢¼ç‰‡æ®µ | å¼·å¤§çš„ snippet å¼•æ“ï¼Œæ”¯æ´å‹•æ…‹å…§å®¹ |
| [`nvim-surround`](https://github.com/kylechui/nvim-surround) | æ‹¬è™Ÿæ“ä½œ | å¿«é€Ÿå¢åˆªæ”¹æ‹¬è™Ÿã€å¼•è™Ÿç­‰ |
| [`Comment.nvim`](https://github.com/numToStr/Comment.nvim) | è¨»è§£ | `gc` å¿«é€Ÿè¨»è§£ç¨‹å¼ç¢¼ |
| [`treesj`](https://github.com/Wansmer/treesj) | æ‹†åˆ†åˆä½µ | ä¸€éµæ‹†åˆ†/åˆä½µç¨‹å¼ç¢¼å€å¡Š |
| [`dial.nvim`](https://github.com/monaqa/dial.nvim) | å¢æ¸›å¼·åŒ– | `Ctrl+a/x` æ”¯æ´æ—¥æœŸã€å¸ƒæ—å€¼ç­‰ |

### LSP å¢å¼·

| æ’ä»¶ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| [`lspsaga.nvim`](https://github.com/nvimdev/lspsaga.nvim) | LSP UI | æ›´æ¼‚äº®çš„ hoverã€renameã€code action |
| [`trouble.nvim`](https://github.com/folke/trouble.nvim) | è¨ºæ–·æ¸…å–® | é›†ä¸­é¡¯ç¤ºæ‰€æœ‰éŒ¯èª¤å’Œè­¦å‘Š |
| [`aerial.nvim`](https://github.com/stevearc/aerial.nvim) | å¤§ç¶±è¦–åœ– | é¡¯ç¤ºç¨‹å¼ç¢¼çµæ§‹ï¼Œå¿«é€Ÿè·³è½‰ |

### Git æ•´åˆ

| æ’ä»¶ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| [`gitsigns.nvim`](https://github.com/lewis6991/gitsigns.nvim) | Git ç‹€æ…‹ | è¡Œè™Ÿæ—é¡¯ç¤ºå¢åˆªæ”¹ï¼Œæ”¯æ´ blame |
| [`neogit`](https://github.com/NeogitOrg/neogit) | Git å®¢æˆ¶ç«¯ | é¡ä¼¼ Magit çš„å®Œæ•´ Git ä»‹é¢ |
| [`gitgraph.nvim`](https://github.com/isakbm/gitgraph.nvim) | Git åœ–å½¢ | è¦–è¦ºåŒ–åˆ†æ”¯æ­·å² |

### AI è¼”åŠ©

| æ’ä»¶ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| [`avante.nvim`](https://github.com/yetone/avante.nvim) | AI ç·¨è¼¯ | é¡ä¼¼ Cursor çš„ AI ç·¨è¼¯é«”é©— |
| [`codecompanion.nvim`](https://github.com/olimorris/codecompanion.nvim) | AI å°è©± | æ”¯æ´å¤šç¨® LLM çš„ç¨‹å¼ç¢¼åŠ©æ‰‹ |
| [`codeium.nvim`](https://github.com/Exafunction/codeium.nvim) | AI è£œå…¨ | å…è²»çš„ AI ç¨‹å¼ç¢¼è£œå…¨ |

### Markdown èˆ‡å¯«ä½œ

| æ’ä»¶ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| [`render-markdown.nvim`](https://github.com/MeanderingProgrammer/render-markdown.nvim) | Markdown æ¸²æŸ“ | åœ¨ç·¨è¼¯å™¨å…§å³æ™‚æ¸²æŸ“ Markdown |
| [`markdown-preview.nvim`](https://github.com/iamcco/markdown-preview.nvim) | é è¦½ | ç€è¦½å™¨å³æ™‚é è¦½ |
| [`zen-mode.nvim`](https://github.com/folke/zen-mode.nvim) | å°ˆæ³¨æ¨¡å¼ | éš±è—å¹²æ“¾ï¼Œå°ˆå¿ƒå¯«ä½œ |
| [`pangu.vim`](https://github.com/hotoo/pangu.vim) | ä¸­è‹±æ’ç‰ˆ | è‡ªå‹•åœ¨ä¸­è‹±æ–‡é–“åŠ ç©ºæ ¼ |

### å¯¦ç”¨å·¥å…·

| æ’ä»¶ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| [`todo-comments.nvim`](https://github.com/folke/todo-comments.nvim) | TODO é«˜äº® | é«˜äº® TODOã€FIXME ç­‰è¨»è§£ |
| [`yanky.nvim`](https://github.com/gbprod/yanky.nvim) | è¤‡è£½æ­·å² | è¨˜éŒ„è¤‡è£½æ­·å²ï¼Œå¯å›æº¯è²¼ä¸Š |
| [`better-escape.nvim`](https://github.com/max397574/better-escape.nvim) | å¿«é€Ÿé›¢é–‹ | ç”¨ `jk` é›¢é–‹æ’å…¥æ¨¡å¼ï¼Œç„¡å»¶é² |
| [`bigfile.nvim`](https://github.com/LunarVim/bigfile.nvim) | å¤§æª”å„ªåŒ– | é–‹å•Ÿå¤§æª”æ™‚è‡ªå‹•åœç”¨è€—è³‡æºåŠŸèƒ½ |

::: {.callout-note}
## ä¸éœ€è¦å…¨éƒ¨å®‰è£

ä»¥ä¸Šæ˜¯ç¶“éç¯©é¸çš„æ¨è–¦æ¸…å–®ï¼Œè«‹æ ¹æ“šè‡ªå·±çš„éœ€æ±‚é¸æ“‡ã€‚å¯§å¯å°‘è£å¹¾å€‹ï¼Œä¹Ÿä¸è¦è®“ Neovim è®Šå¾—è‡ƒè…«ã€‚å»ºè­°å¾æ ¸å¿ƒæ’ä»¶é–‹å§‹ï¼Œé‡åˆ°éœ€æ±‚å†é€æ­¥æ·»åŠ ã€‚
:::

## æ‰“é€ å€‹äºº Wikiï¼šMarkdown ç·¨è¼¯çš„é­”æ³•

å¦‚æœä½ åƒæˆ‘ä¸€æ¨£ç”¨ Markdown ä¾†ç®¡ç†ç­†è¨˜ã€çŸ¥è­˜åº«æˆ–å€‹äºº Wikiï¼Œä»¥ä¸‹æ˜¯ä¸€äº›è®“ç·¨è¼¯é«”é©—æ›´é †æš¢çš„è¨­å®šæŠ€å·§ã€‚

### Wikilink èˆ‡è‡ªå‹•æ¨¡æ¿

ä½ æœ‰æ²’æœ‰æƒ³éï¼šåœ¨ç‰¹å®šè³‡æ–™å¤¾å»ºç«‹æ–°çš„ `.md` æª”æ¡ˆæ™‚ï¼Œè‡ªå‹•å¹«ä½ å¡«å¥½ frontmatter å’Œåå‘é€£çµï¼Ÿ

æˆ‘çš„åšæ³•æ˜¯åœ¨ Wiki ç›®éŒ„æ”¾ä¸€å€‹ `.iswiki` æ¨™è¨˜æª”ï¼Œç•¶ Neovim åµæ¸¬åˆ°é€™å€‹æ¨™è¨˜ï¼Œå»ºç«‹æ–°æª”æ¡ˆæ™‚å°±æœƒè‡ªå‹•å¥—ç”¨æ¨¡æ¿ï¼š

```{lua}
-- after/ftplugin/markdown.lua
vim.api.nvim_create_autocmd("BufNewFile", {
  pattern = "*.md",
  callback = function()
    if vim.fn.filereadable(".iswiki") == 1 then
      local filename = vim.fn.expand("%:t:r")
      local title = filename:gsub("_", " ")
      local date = os.date("%Y-%m-%d")
      local previous = vim.g.previous or ""

      local lines = {
        "---",
        "title: '" .. title .. "'",
        'date: "' .. date .. '"',
        "---",
        "",
        "> [!info]",
        ">",
        "> ğŸŒ± ä¾†è‡ª: [[" .. previous .. "]]",
        "",
        "# " .. filename,
      }
      vim.api.nvim_buf_set_lines(0, 0, 0, false, lines)
    end
  end,
})
```

é€™è£¡æœ‰å€‹å°å·§æ€ï¼š`vim.g.previous` æœƒåœ¨ä½ é›¢é–‹ä¸€å€‹ Markdown æª”æ¡ˆæ™‚è‡ªå‹•è¨˜éŒ„æª”åï¼Œæ‰€ä»¥æ–°å»ºçš„ç­†è¨˜æœƒè‡ªå‹•åŒ…å«ã€Œä¾†è‡ªå“ªè£¡ã€çš„åå‘é€£çµï¼Œå½¢æˆçŸ¥è­˜ç¶²çµ¡ã€‚

### å¿«é€Ÿæ“ä½œ Wikilink

ç·¨è¼¯ Wiki æ™‚ï¼Œæœ€å¸¸åšçš„äº‹å°±æ˜¯å»ºç«‹é€£çµã€‚é€™å¹¾å€‹å¿«æ·éµè®“æˆ‘çœä¸‹å¤§é‡æ™‚é–“ï¼š

| å¿«æ·éµ | åŠŸèƒ½ | èªªæ˜ |
|--------|------|------|
| `<leader>yw` | è¤‡è£½ç‚º wikilink | æŠŠç•¶å‰æª”åè®Šæˆ `[[filename]]` æ ¼å¼è¤‡è£½ |
| `<leader>pw` | è²¼ä¸Šç‚º wikilink | æŠŠå‰ªè²¼ç°¿å…§å®¹åŒ…ä¸Š `[[]]` è²¼ä¸Š |
| `<leader>of` | æ’å…¥ã€Œof this fileã€ | å¿«é€Ÿå»ºç«‹å­ç­†è¨˜çš„å‘½åå¾Œç¶´ |

```{lua}
-- è¤‡è£½ç•¶å‰æª”åç‚º wikilink
vim.keymap.set("n", "<leader>yw", function()
  local filename = vim.fn.expand("%:t:r")
  local wikilink = "[[" .. filename .. "]]"
  vim.fn.setreg("+", wikilink)
  print(wikilink)
end, { desc = "Yank as wikilink" })
```

### mkdnflowï¼šWiki å°èˆªçš„æ ¸å¿ƒ

[mkdnflow.nvim](https://github.com/jakewvincent/mkdnflow.nvim) æ˜¯è®“ Neovim è®Šæˆ Wiki ç·¨è¼¯å™¨çš„é—œéµï¼š

- **`<CR>`ï¼ˆEnterï¼‰**ï¼šåœ¨ wikilink ä¸ŠæŒ‰ Enter å°±è·³è½‰ï¼Œæª”æ¡ˆä¸å­˜åœ¨æœƒè‡ªå‹•å»ºç«‹
- **`<BS>`ï¼ˆBackspaceï¼‰**ï¼šè¿”å›ä¸Šä¸€å€‹æª”æ¡ˆï¼Œå°±åƒç€è¦½å™¨çš„ä¸Šä¸€é 
- **`<Tab>` / `<S-Tab>`**ï¼šåœ¨é€£çµé–“å¿«é€Ÿè·³è½‰
- **`]]` / `[[`**ï¼šè·³åˆ°ä¸‹/ä¸Šä¸€å€‹æ¨™é¡Œ

```{lua}
require("mkdnflow").setup({
  links = {
    style = "wiki",  -- ä½¿ç”¨ [[wikilink]] é¢¨æ ¼
    transform_explicit = function(text)
      -- è‡ªå‹•æŠŠç©ºæ ¼è½‰åº•ç·šã€è½‰å°å¯«
      return text:gsub(" ", "_"):lower()
    end,
  },
  mappings = {
    MkdnEnter = { { "n", "v" }, "<CR>" },
    MkdnGoBack = { "n", "<BS>" },
    MkdnNextLink = { "n", "<Tab>" },
    MkdnPrevLink = { "n", "<S-Tab>" },
  },
})
```

### è‰ç¨¿ç™¼ä½ˆæé†’

å¯«éƒ¨è½æ ¼æˆ–æŠ€è¡“æ–‡ç« æ™‚ï¼Œå¸¸å¸¸æœƒå¿˜è¨˜æŠŠ `draft: true` æ”¹æˆ `false`ã€‚é€™å€‹è‡ªå‹•å‘½ä»¤æœƒåœ¨å„²å­˜æ™‚æé†’ä½ ï¼š

```{lua}
vim.api.nvim_create_autocmd("BufWritePre", {
  pattern = "*.md",
  callback = function()
    local lines = vim.api.nvim_buf_get_lines(0, 0, -1, false)
    for i, line in ipairs(lines) do
      if line:match("draft: true") then
        local response = vim.fn.input("Ready to publish? (y/n): ")
        if response == "y" then
          lines[i] = line:gsub("draft: true", "draft: false")
          vim.api.nvim_buf_set_lines(0, 0, -1, false, lines)
        end
        break
      end
    end
  end,
})
```

::: {.callout-tip}
## ç‚ºä»€éº¼é€™æ¨£è¨­è¨ˆï¼Ÿ

é€™äº›çœ‹ä¼¼ç‘£ç¢çš„è‡ªå‹•åŒ–ï¼Œç´¯ç©èµ·ä¾†æœƒå¤§å¹…æå‡ç­†è¨˜é«”é©—ï¼š

- **é™ä½æ‘©æ“¦**ï¼šå»ºç«‹æ–°ç­†è¨˜é›¶æˆæœ¬ï¼Œä¸ç”¨æ‰‹å‹•å¡« frontmatter
- **è‡ªå‹•å»ºç«‹é€£çµ**ï¼šçŸ¥è­˜ç¶²çµ¡è‡ªç„¶å½¢æˆï¼Œä¸ç”¨åˆ»æ„ç¶­è­·
- **æ¸›å°‘éºå¿˜**ï¼šè‰ç¨¿ç™¼ä½ˆæé†’é¿å…å°·å°¬

ç•¶å¯«ç­†è¨˜è®Šå¾—åƒå‘¼å¸ä¸€æ¨£è‡ªç„¶ï¼Œä½ å°±æœƒæ›´é¡˜æ„è¨˜éŒ„æƒ³æ³•ã€‚
:::

## LSP è¨­å®š

**èƒŒæ™¯ï¼ˆå•é¡Œç™¼ç¾ï¼‰**ï¼šæ²’æœ‰ LSPï¼ˆLanguage Server Protocolï¼‰çš„ç·¨è¼¯å™¨å°±åƒæ²’æœ‰æ™ºæ…§çš„æ–‡å­—ç·¨è¼¯å™¨ï¼Œç¼ºå°‘ï¼š
- è‡ªå‹•è£œå…¨å’Œæ™ºæ…§æç¤º
- è·³è½‰åˆ°å®šç¾©å’Œåƒè€ƒ
- å³æ™‚éŒ¯èª¤è¨ºæ–·
- é‡æ§‹åŠŸèƒ½ï¼ˆé‡æ–°å‘½åã€æå–å‡½æ•¸ç­‰ï¼‰
- æ‡¸åœæ–‡ä»¶é¡¯ç¤º

æ¯ç¨®ç¨‹å¼èªè¨€éƒ½éœ€è¦å°æ‡‰çš„ Language Serverï¼Œè€Œä¸”éœ€è¦æ­£ç¢ºè¨­å®šæ‰èƒ½ç™¼æ®ä½œç”¨ã€‚

**æ–¹æ³•**ï¼šä½¿ç”¨ [`nvim-lspconfig`](https://github.com/neovim/nvim-lspconfig) æ’ä»¶ä¾†é…ç½®å„èªè¨€çš„ LSP Serverã€‚æ ¸å¿ƒæ¦‚å¿µï¼š
1. **å®‰è£ Language Server**ï¼šç”¨ [Mason](https://github.com/williamboman/mason.nvim)ï¼ˆ`:MasonInstall pyright`ï¼‰æˆ–ç³»çµ±å¥—ä»¶ç®¡ç†å™¨å®‰è£
2. **è¨­å®š lspconfig**ï¼šç‚ºæ¯ç¨®èªè¨€å‘¼å«å°æ‡‰çš„ `setup()` å‡½æ•¸
3. **ç‰¹å®šèªè¨€é…ç½®**ï¼šæŸäº› Server éœ€è¦é¡å¤–è¨­å®šï¼ˆå¦‚ Lua éœ€è¦è­˜åˆ¥ `vim` å…¨åŸŸè®Šæ•¸ï¼‰

**çµæœï¼ˆç¨‹å¼ç¢¼ï¼‰**ï¼š

```{lua}
-- lua/configs/lspconfig.lua
local lspconfig = require "lspconfig"

-- Python
lspconfig.pyright.setup {}

-- TypeScript
lspconfig.ts_ls.setup {}

-- Lua
lspconfig.lua_ls.setup {
  settings = {
    Lua = {
      diagnostics = {
        globals = { "vim" },
      },
    },
  },
}
```

**è¨è«–/å»¶ä¼¸**ï¼š
- **[Mason](https://github.com/williamboman/mason.nvim) æ•´åˆ**ï¼šå»ºè­°ç”¨ `:Mason` UI ä¾†å®‰è£å’Œç®¡ç† Language Serversï¼Œé¿å…æ‰‹å‹•è™•ç†è·¯å¾‘
- **å¸¸ç”¨ Language Servers**ï¼š
  - Python: [`pyright`](https://github.com/microsoft/pyright)ï¼ˆå¿«é€Ÿï¼‰æˆ– [`pylsp`](https://github.com/python-lsp/python-lsp-server)ï¼ˆåŠŸèƒ½å¤šï¼‰
  - JavaScript/TypeScript: [`ts_ls`](https://github.com/typescript-language-server/typescript-language-server)ï¼ˆå®˜æ–¹ï¼‰
  - Go: [`gopls`](https://github.com/golang/tools/tree/master/gopls)ã€Rust: [`rust_analyzer`](https://github.com/rust-lang/rust-analyzer)
  - HTML/CSS: `html`, `cssls`
- **Lua ç‰¹æ®Šè¨­å®š**ï¼š`globals = { "vim" }` é¿å…ç·¨è¼¯ Neovim é…ç½®æ™‚å‡ºç¾ `vim` æœªå®šç¾©è­¦å‘Š
- **è‡ªè¨‚èƒ½åŠ›**ï¼šå¯åœ¨ `setup()` ä¸­è¨­å®š `on_attach`ï¼ˆæŒ‰éµç¶å®šï¼‰ã€`capabilities`ï¼ˆè£œå…¨èƒ½åŠ›ï¼‰ç­‰
- **é™¤éŒ¯ LSP**ï¼šç”¨ `:LspInfo` æŸ¥çœ‹ LSP ç‹€æ…‹ã€`:LspLog` æŸ¥çœ‹æ—¥èªŒ
- **æ•ˆèƒ½å„ªåŒ–**ï¼šå¤§å‹å°ˆæ¡ˆå¯ç”¨ `root_dir` é™åˆ¶ LSP ç¯„åœï¼Œé¿å…æƒææ•´å€‹å°ˆæ¡ˆ

## å¸¸ç”¨å¿«æ·éµ

| å¿«æ·éµ | åŠŸèƒ½ |
|--------|------|
| `<Space>ff` | æœå°‹æª”æ¡ˆ |
| `<Space>fg` | æœå°‹æ–‡å­— |
| `gd` | è·³åˆ°å®šç¾© |
| `K` | é¡¯ç¤ºæ–‡ä»¶ |
| `<Space>ca` | Code action |
| `<Space>rn` | é‡æ–°å‘½å |

## èˆ‡ tmux æ•´åˆ

**èƒŒæ™¯ï¼ˆå•é¡Œç™¼ç¾ï¼‰**ï¼šé–‹ç™¼æ™‚ç¶“å¸¸éœ€è¦åœ¨å¤šå€‹è¦–çª—é–“åˆ‡æ›ï¼Œä¾‹å¦‚ï¼š
- ç·¨è¼¯å™¨ï¼ˆNeovim splitï¼‰
- çµ‚ç«¯æ©Ÿï¼ˆtmux paneï¼‰
- æ¸¬è©¦è¼¸å‡º
- ä¼ºæœå™¨æ—¥èªŒ

é è¨­æƒ…æ³ä¸‹ï¼ŒVim split ç”¨ `Ctrl+w h/j/k/l` åˆ‡æ›ï¼Œè€Œ tmux pane ç”¨ `Ctrl+b` åŠ æ–¹å‘éµï¼Œå…©å¥—ä¸åŒçš„å¿«æ·éµè®“åˆ‡æ›è®Šå¾—ç¹ç‘£ä¸”å®¹æ˜“æ··æ·†ã€‚

**æ–¹æ³•**ï¼šä½¿ç”¨ [`vim-tmux-navigator`](https://github.com/christoomey/vim-tmux-navigator) æ’ä»¶çµ±ä¸€ Vim å’Œ tmux çš„è¦–çª—åˆ‡æ›é‚è¼¯ã€‚æ ¸å¿ƒæ¦‚å¿µï¼š
1. **çµ±ä¸€å¿«æ·éµ**ï¼šç”¨ `Ctrl+h/j/k/l` åœ¨æ‰€æœ‰è¦–çª—é–“åˆ‡æ›ï¼ˆVim å…§éƒ¨ split å’Œ tmux paneï¼‰
2. **æ™ºæ…§åµæ¸¬**ï¼šæ’ä»¶æœƒè‡ªå‹•åˆ¤æ–·æ˜¯å¦åœ¨é‚Šç•Œï¼Œæ±ºå®šæ˜¯åˆ‡æ› Vim split é‚„æ˜¯ tmux pane
3. **é›™å‘æ•´åˆ**ï¼šéœ€è¦åŒæ™‚åœ¨ Neovim å’Œ tmux é…ç½®ä¸­è¨­å®š

**çµæœï¼ˆç¨‹å¼ç¢¼ï¼‰**ï¼š

```{lua}
return {
  "christoomey/vim-tmux-navigator",
  lazy = false,
}
```

**è¨è«–/å»¶ä¼¸**ï¼š
- **tmux é…ç½®**ï¼šéœ€è¦åœ¨ `~/.tmux.conf` åŠ å…¥å°æ‡‰è¨­å®šï¼ˆåƒè€ƒæ’ä»¶æ–‡ä»¶ï¼‰
- **lazy = false**ï¼šæ­¤æ’ä»¶å¿…é ˆåœ¨å•Ÿå‹•æ™‚è¼‰å…¥ï¼Œç¢ºä¿å¿«æ·éµç«‹å³å¯ç”¨
- **æ³¨æ„äº‹é …**ï¼šå¦‚æœ tmux è¨­å®šäº† `prefix`ï¼Œéœ€è¦ç¢ºä¿ä¸è¡çª
- **æ›¿ä»£æ–¹æ¡ˆ**ï¼š[`Navigator.nvim`](https://github.com/numToStr/Navigator.nvim) æä¾›é¡ä¼¼åŠŸèƒ½ï¼Œä½†æ”¯æ´æ›´å¤šçµ‚ç«¯è¤‡ç”¨å™¨
- **é™¤éŒ¯æ–¹æ³•**ï¼šå¦‚æœåˆ‡æ›ä¸é †ï¼Œæª¢æŸ¥ tmux å’Œ Neovim æ˜¯å¦éƒ½æ­£ç¢ºè¼‰å…¥è¨­å®š
- **å»¶ä¼¸ç”¨é€”**ï¼šæ­é… tmux sessionizerï¼ˆå¦‚ [`sesh`](https://github.com/joshmedeski/sesh)ï¼‰å¯å¯¦ç¾å°ˆæ¡ˆé–“å¿«é€Ÿåˆ‡æ›

## å¯¦ä½œç·´ç¿’

1. å®‰è£ [Neovim](https://neovim.io/) å’Œ [NvChad](https://nvchad.com/)
2. ç”¨ `:Lazy` æŸ¥çœ‹æ’ä»¶ç‹€æ…‹
3. ç”¨ `<Space>ff` æœå°‹æª”æ¡ˆ
4. å˜—è©¦åœ¨ tmux pane é–“åˆ‡æ›

::: {.callout-tip}
## å­¸ç¿’æ›²ç·š
Vim çš„å­¸ç¿’æ›²ç·šé™¡å³­ï¼Œä½†å€¼å¾—æŠ•è³‡ã€‚å»ºè­°å¾ `vimtutor` é–‹å§‹ï¼Œæ¯å¤©ç·´ç¿’ 15 åˆ†é˜ã€‚
:::

## æ¨è–¦ YouTube æ•™å­¸é »é“

å¦‚æœä½ åå¥½é€éå½±ç‰‡å­¸ç¿’ï¼Œä»¥ä¸‹æ˜¯å¹¾å€‹é«˜å“è³ªçš„ Neovim æ•™å­¸é »é“ï¼š

| é »é“ | ç‰¹è‰² | é©åˆå°è±¡ |
|------|------|----------|
| [typecraft](https://www.youtube.com/@typaboringcraft) | ã€ŒNeovim for Newbsã€ç³»åˆ—ï¼Œå¾ªåºæ¼¸é€² | å®Œå…¨åˆå­¸è€… |
| [TJ DeVries](https://www.youtube.com/@teloviews) | Neovim æ ¸å¿ƒé–‹ç™¼è€…ï¼Œkickstart.nvim ä½œè€… | æƒ³æ·±å…¥ç†è§£åŸç†è€… |
| [ThePrimeagen](https://www.youtube.com/@ThePrimeagen) | é«˜èƒ½é‡ã€å¯¦æˆ°å°å‘ï¼ŒVim å‹•ä½œæŠ€å·§ | æƒ³æå‡æ•ˆç‡è€… |
| [Josean Martinez](https://www.youtube.com/@joseanmartinez) | å®Œæ•´è¨­å®šæ•™å­¸ï¼ŒMac ç’°å¢ƒå‹å–„ | æƒ³è¦å®Œæ•´é…ç½®è€… |
| [devaslife](https://www.youtube.com/@devaslife) | å„ªç¾çš„å½±ç‰‡é¢¨æ ¼ï¼ŒWeb é–‹ç™¼å°å‘ | å‰ç«¯é–‹ç™¼è€… |

::: {.callout-note}
## å¾ kickstart.nvim é–‹å§‹

å¦‚æœä½ ä¸æƒ³ç”¨ NvChad é€™é¡é è¨­æ¡†æ¶ï¼Œå¯ä»¥è€ƒæ…® [kickstart.nvim](https://github.com/nvim-lua/kickstart.nvim)ã€‚é€™æ˜¯ç”± Neovim æ ¸å¿ƒé–‹ç™¼è€… TJ DeVries ç¶­è­·çš„å…¥é–€é…ç½®ï¼Œåªæœ‰ä¸€å€‹ `init.lua` æª”æ¡ˆï¼Œè¨»è§£è©³ç›¡ï¼Œéå¸¸é©åˆæƒ³è¦å¾é ­ç†è§£ Neovim é…ç½®çš„äººã€‚
:::
